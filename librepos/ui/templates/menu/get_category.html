{% extends 'base.html' %}

{% from "macros/layout_components.html" import page_section, panel_card %}
{% from "macros/ui_components.html" import render_button, table %}

{% block main %}

{% set button_html %}
{% if current_user.has_permission("menu.update.category") %}
    {{ render_button("Edit", "filled", "#") }}
{% endif %}
{% endset %}

{% call page_section(category.name|title, button=button_html) %}
    <div class="col s12">
        {% call panel_card("Summary") %}
            <!-- TODO 7/3/25 : Add information about the category such as creation/updated data, active state, group associations, and created/updated by.  -->
        {% endcall %}
    </div>

    <div class="col s12">
        {% call panel_card("Assigned Groups") %}
            {% call table(["Group", "Description"]) %}
                {% for menu_group in category.menu_groups %}
                    <tr>
                        <td><a href="#">{{ menu_group.name }}</a></td>
                        <td>No Description</td>
                    </tr>
                {% endfor %}
            {% endcall %}
        {% endcall %}
    </div>

    <div class="col s12">
        {% call panel_card("Danger Zone", classes="danger-border") %}
        {% endcall %}
    </div>
{% endcall %}

{% endblock %}