{% import 'macros/_core.j2' as core %}

{# Modal with slots: header/body/footer via caller blocks #}
{% macro render(id, title=None, size='md', class_=None, attrs=None, caller=None) -%}
    {%- set classes = core.class_names('modal', extra=class_) -%}
    <div id="{{ id }}" class="{{ classes }}" {{ core.attrs(attrs) }}>
        {% if title %}
            <div class="modal-header">
                <h4>{{ title|title }}</h4>
            </div>
        {% endif %}
        <div class="modal-content">
            {% if caller %}{{ caller() }}{% endif %}
        </div>
        <div class="modal-footer">
            <button tabindex="0" class="waves-effect btn-flat" popovertarget="{{ id }}">Agree</button>
        </div>
    </div>
{%- endmacro %}

{# Example usage:
  {% import 'components/modals/modal.j2' as Modal %}
  {% call Modal.render('deleteModal') %}
    <h4>Delete item?</h4>
    <p>This cannot be undone.</p>
  {% endcall %}
#}
