{# ==========================================================================
   CATEGORY CARD - Menu Category Card Component
   ==========================================================================
   Renders a category as a card with image, status, and details.

   Usage:
   {% import 'menu/macros/categories_card.html' as CategoryCard %}
   {{ CategoryCard.render(category) }}
   ========================================================================== #}

{% macro render(category) %}
{#
    Renders a single category card.

    Args:
        category: Category model instance with fields:
            - id, name, description, image_url, is_active, parent, items
#}
<a href="" class="category-card card">
    <div class="card-image">
        {% if category.image_url %}
            <img src="{{ category.image_url }}" alt="{{ category.name }}">
            <div class="card-image-overlay"></div>
        {% else %}
            <div class="category-card__placeholder">
                <span class="material-symbols-rounded" aria-hidden="true">category</span>
            </div>
        {% endif %}
        <span class="status-dot {{ 'green' if category.is_active else 'red' }}"
              aria-label="{{ 'Active' if category.is_active else 'Inactive' }}"></span>
    </div>
    <div class="card-content">
        <span class="card-title truncate">{{ category.name }}</span>
        {% if category.parent %}
            <span class="parent-name grey-text">{{ category.parent.name }}</span>
        {% endif %}
        <p class="description grey-text text-darken-1">{{ category.description or 'No description' }}</p>
        <span class="chip">{{ category.items|length if category.items else 0 }} items</span>
    </div>
</a>
{% endmacro %}
