{# ==========================================================================
   CATEGORY CARD - Menu Category Card Component
   ==========================================================================
   Renders a category as a card with image, status, and details.

   Usage:
   {% import 'menu/macros/categories_card.html' as CategoryCard %}
   {{ CategoryCard.render(category) }}
   ========================================================================== #}

{% macro render(category) %}
{#
    Renders a single category card.

    Args:
        category: Category model instance with fields:
            - id, name, description, image_url, is_active, parent
#}
<a href="{{ url_for('menu.category_detail', cat_id=category.id) }}" class="category-card card">
    <div class="card-image"
         style="background-image: url('{{ category.image_url or url_for('static', filename='img/placeholders/540x720.png') }}')">
        <div class="card-image-overlay"></div>
        <span class="status-dot {{ 'green' if category.is_active else 'red' }}"
              title="{{ 'Active' if category.is_active else 'Inactive' }}"></span>
    </div>
    <div class="card-content">
        <span class="card-title truncate">{{ category.name }}</span>
        {% if category.parent %}
            <span class="parent-name grey-text">{{ category.parent.name }}</span>
        {% endif %}
        {% if category.description %}
            <p class="description grey-text text-darken-1">{{ category.description|truncate(80) }}</p>
        {% endif %}
    </div>
</a>
{% endmacro %}
