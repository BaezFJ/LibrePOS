/*
 * LibrePOS Design System Variables
 * ================================
 * CSS custom properties following Material Design 3 color system.
 * Uses MaterializeCSS 2.2.2 built-in tokens.
 *
 * Usage:
 *   - Theme toggle: <html data-theme="dark"> or <html data-theme="light">
 *   - Auto-detect: Remove data-theme attribute to follow system preference
 *
 * References:
 *   - Full design system: docs/uiux.md
 *   - MaterializeCSS: https://materializeweb.com
 */


/* =============================================================================
   BASE VARIABLES (Theme-Independent)
   ============================================================================= */
:root {
    /* ── Materialize CSS Overrides ── */
    --navbar-height: 64px;
    --navbar-height-mobile: 56px;
}


/* =============================================================================
   LIGHT THEME - Elegant Restaurant
   Warm cream backgrounds with espresso text for mixed-lighting environments
   ============================================================================= */
:root,
:root:not([data-theme]),
[data-theme="light"] {
    color-scheme: light;

    /* ══════════════════════════════════════════════════════════════════════════
       Core Palette - Warm Cream
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-background: #FAF7F2;
    --md-sys-color-on-background: #2D2622;
    --md-sys-color-surface: #F5F0EA;
    --md-sys-color-on-surface: #2D2622;
    --md-sys-color-surface-variant: #EDE8E1;
    --md-sys-color-on-surface-variant: #5C534A;
    --md-sys-color-outline: #8A8279;
    --md-sys-color-outline-variant: #C9C4BC;

    /* ══════════════════════════════════════════════════════════════════════════
       Accent Colors - Warm Amber Primary
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-primary: #8B5E00;
    --md-sys-color-on-primary: #FFFFFF;
    --md-sys-color-primary-container: #FFE0B2;
    --md-sys-color-on-primary-container: #5C3D00;

    --md-sys-color-secondary: #5C534A;
    --md-sys-color-on-secondary: #FFFFFF;
    --md-sys-color-secondary-container: #E0DAD3;
    --md-sys-color-on-secondary-container: #3D3632;

    --md-sys-color-tertiary: #4A6355;
    --md-sys-color-on-tertiary: #FFFFFF;
    --md-sys-color-tertiary-container: #C8DDD0;
    --md-sys-color-on-tertiary-container: #2D3D35;

    /* ══════════════════════════════════════════════════════════════════════════
       Error Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-error: #C62828;
    --md-sys-color-on-error: #FFFFFF;
    --md-sys-color-error-container: #FFCDD2;
    --md-sys-color-on-error-container: #B71C1C;

    /* ══════════════════════════════════════════════════════════════════════════
       Utility Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-inverse-surface: #2D2622;
    --md-sys-color-inverse-on-surface: #FAF7F2;
    --md-sys-color-inverse-primary: #FFB74D;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: rgba(45, 38, 34, 0.5);
    --md-sys-color-surface-tint: #8B5E00;
}


/* =============================================================================
   DARK THEME - Elegant Restaurant
   Warm charcoal backgrounds with amber/gold accent for fast-paced environments
   ============================================================================= */
[data-theme="dark"] {
    color-scheme: dark;

    /* ══════════════════════════════════════════════════════════════════════════
       Core Palette - Warm Charcoal
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-background: #1A1614;
    --md-sys-color-on-background: #F5F0EB;
    --md-sys-color-surface: #252220;
    --md-sys-color-on-surface: #F5F0EB;
    --md-sys-color-surface-variant: #302C28;
    --md-sys-color-on-surface-variant: #A8A099;
    --md-sys-color-outline: #6D665D;
    --md-sys-color-outline-variant: #3D3835;

    /* ══════════════════════════════════════════════════════════════════════════
       Accent Colors - Warm Amber/Gold
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-primary: #FFB74D;
    --md-sys-color-on-primary: #1A1614;
    --md-sys-color-primary-container: #4A3F2A;
    --md-sys-color-on-primary-container: #FFE0B2;

    --md-sys-color-secondary: #C9C0B5;
    --md-sys-color-on-secondary: #1A1614;
    --md-sys-color-secondary-container: #3D3835;
    --md-sys-color-on-secondary-container: #E8E0D8;

    --md-sys-color-tertiary: #A8C5B8;
    --md-sys-color-on-tertiary: #1A1614;
    --md-sys-color-tertiary-container: #2D3D35;
    --md-sys-color-on-tertiary-container: #D4E8DC;

    /* ══════════════════════════════════════════════════════════════════════════
       Error Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-error: #EF9A9A;
    --md-sys-color-on-error: #4A1C1C;
    --md-sys-color-error-container: #5D2A2A;
    --md-sys-color-on-error-container: #FFCDD2;

    /* ══════════════════════════════════════════════════════════════════════════
       Utility Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-inverse-surface: #F5F0EB;
    --md-sys-color-inverse-on-surface: #1A1614;
    --md-sys-color-inverse-primary: #8B5E00;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: rgba(0, 0, 0, 0.6);
    --md-sys-color-surface-tint: #FFB74D;
}


/* =============================================================================
   SYSTEM PREFERENCE FALLBACK
   Applies elegant restaurant dark theme when system prefers dark
   ============================================================================= */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        color-scheme: dark;

        /* Core Palette - Warm Charcoal */
        --md-sys-color-background: #1A1614;
        --md-sys-color-on-background: #F5F0EB;
        --md-sys-color-surface: #252220;
        --md-sys-color-on-surface: #F5F0EB;
        --md-sys-color-surface-variant: #302C28;
        --md-sys-color-on-surface-variant: #A8A099;
        --md-sys-color-outline: #6D665D;
        --md-sys-color-outline-variant: #3D3835;

        /* Accent Colors - Warm Amber/Gold */
        --md-sys-color-primary: #FFB74D;
        --md-sys-color-on-primary: #1A1614;
        --md-sys-color-primary-container: #4A3F2A;
        --md-sys-color-on-primary-container: #FFE0B2;

        --md-sys-color-secondary: #C9C0B5;
        --md-sys-color-on-secondary: #1A1614;
        --md-sys-color-secondary-container: #3D3835;
        --md-sys-color-on-secondary-container: #E8E0D8;

        --md-sys-color-tertiary: #A8C5B8;
        --md-sys-color-on-tertiary: #1A1614;
        --md-sys-color-tertiary-container: #2D3D35;
        --md-sys-color-on-tertiary-container: #D4E8DC;

        /* Error Colors */
        --md-sys-color-error: #EF9A9A;
        --md-sys-color-on-error: #4A1C1C;
        --md-sys-color-error-container: #5D2A2A;
        --md-sys-color-on-error-container: #FFCDD2;

        /* Utility Colors */
        --md-sys-color-inverse-surface: #F5F0EB;
        --md-sys-color-inverse-on-surface: #1A1614;
        --md-sys-color-inverse-primary: #8B5E00;
        --md-sys-color-shadow: #000000;
        --md-sys-color-scrim: rgba(0, 0, 0, 0.6);
        --md-sys-color-surface-tint: #FFB74D;
    }
}


/* =============================================================================
   HTMX Loading States
   ============================================================================= */
.htmx-indicator {
    display: none;
}

.htmx-request .htmx-indicator {
    display: block;
}

.htmx-request table,
.htmx-request .collection {
    opacity: 0.5;
    pointer-events: none;
    transition: opacity 0.2s ease;
}
