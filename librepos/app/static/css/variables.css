/*
 * LibrePOS Design System Variables
 * ================================
 * CSS custom properties following Material Design 3 color system.
 * Uses MaterializeCSS 2.2.2 built-in tokens with custom semantic palettes.
 *
 * Usage:
 *   - Theme toggle: <html data-theme="dark"> or <html data-theme="light">
 *   - Auto-detect: Remove data-theme attribute to follow system preference
 *
 * References:
 *   - Full design system: docs/uiux.md
 *   - MaterializeCSS: https://materializeweb.com
 */

/* =============================================================================
   BASE VARIABLES (Theme-Independent)
   ============================================================================= */
:root {
    /* ── Materialize CSS Overrides ── */
    --btn-height: 48px;

    /* ── Typography ── */
    --pos-font-family: system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    --pos-font-mono: ui-monospace, 'SF Mono', Monaco, 'Cascadia Code', monospace;

    /* Font Sizes - Fluid typography with touch-optimized minimums */
    --pos-text-xs: clamp(0.75rem, calc(0.7rem + 0.15vw), 0.875rem); /* 12-14px */
    --pos-text-sm: clamp(0.875rem, calc(0.825rem + 0.2vw), 1rem); /* 14-16px */
    --pos-text-base: clamp(1rem, calc(0.925rem + 0.25vw), 1.125rem); /* 16-18px */
    --pos-text-lg: clamp(1.125rem, calc(1.05rem + 0.25vw), 1.25rem); /* 18-20px */
    --pos-text-xl: clamp(1.25rem, calc(1.1rem + 0.5vw), 1.5rem); /* 20-24px */
    --pos-text-2xl: clamp(1.5rem, calc(1.25rem + 0.75vw), 1.875rem); /* 24-30px */
    --pos-text-3xl: clamp(1.875rem, calc(1.4rem + 1.25vw), 2.5rem); /* 30-40px */
    --pos-text-4xl: clamp(2.25rem, calc(1.5rem + 1.75vw), 3rem); /* 36-48px */

    /* Font Weights - Material Design Scale (100-900) */
    --pos-font-thin: 100;
    --pos-font-light: 300;
    --pos-font-normal: 400;
    --pos-font-medium: 500;
    --pos-font-semibold: 600;
    --pos-font-bold: 700;
    --pos-font-extrabold: 800;
    --pos-font-black: 900;

    /* Line Heights - Typographic scale */
    --pos-leading-none: 1;
    --pos-leading-tight: 1.25;
    --pos-leading-snug: 1.375;
    --pos-leading-normal: 1.5;
    --pos-leading-relaxed: 1.625;
    --pos-leading-loose: 2;

    /* Letter Spacing (Tracking) */
    --pos-tracking-tighter: -0.05em;
    --pos-tracking-tight: -0.025em;
    --pos-tracking-normal: 0;
    --pos-tracking-wide: 0.025em;
    --pos-tracking-wider: 0.05em;
    --pos-tracking-widest: 0.1em;

    /* Word Spacing */
    --pos-word-space-tight: -0.05em;
    --pos-word-space-normal: 0;
    --pos-word-space-wide: 0.1em;
    --pos-word-space-wider: 0.25em;

    /* ── Spacing Scale ── */
    --pos-space-1: 0.25rem; /* 4px */
    --pos-space-2: 0.5rem; /* 8px */
    --pos-space-3: 0.75rem; /* 12px */
    --pos-space-4: 1rem; /* 16px */
    --pos-space-5: 1.25rem; /* 20px */
    --pos-space-6: 1.5rem; /* 24px */
    --pos-space-8: 2rem; /* 32px */
    --pos-space-10: 2.5rem; /* 40px */
    --pos-space-12: 3rem; /* 48px */

    /* ── Layout ── */
    --navbar-height: 64px;
    --navbar-height-mobile: 56px;

    /* ── Border Radius ── */
    --pos-radius-sm: 4px;
    --pos-radius-md: 8px;
    --pos-radius-lg: 12px;
    --pos-radius-xl: 16px;
    --pos-radius-full: 9999px;

    /* ── Shadows ── */
    --pos-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --pos-shadow-md: 0 2px 4px rgba(0, 0, 0, 0.1);
    --pos-shadow-lg: 0 4px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.1);
    --pos-shadow-xl: 0 8px 16px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);

    /* ══════════════════════════════════════════════════════════════════════════
       CUSTOM TONAL PALETTES (Success, Warning, Info)
       Following Material Design 3 tonal scale pattern (0-100)
       ══════════════════════════════════════════════════════════════════════════ */

    /* ── Success (Green) - Source: #1B7D3E ── */
    --md-ref-palette-success0: #000000;
    --md-ref-palette-success10: #002109;
    --md-ref-palette-success20: #003915;
    --md-ref-palette-success30: #005322;
    --md-ref-palette-success40: #1b7d3e;
    --md-ref-palette-success50: #3d9857;
    --md-ref-palette-success60: #58b370;
    --md-ref-palette-success70: #73cf8a;
    --md-ref-palette-success80: #8feca4;
    --md-ref-palette-success90: #abffc0;
    --md-ref-palette-success95: #c8ffe0;
    --md-ref-palette-success99: #f5fff5;
    --md-ref-palette-success100: #ffffff;

    /* ── Warning (Amber) - Source: #8B5000 ── */
    --md-ref-palette-warning0: #000000;
    --md-ref-palette-warning10: #2c1600;
    --md-ref-palette-warning20: #4a2800;
    --md-ref-palette-warning30: #6a3b00;
    --md-ref-palette-warning40: #8b5000;
    --md-ref-palette-warning50: #a96600;
    --md-ref-palette-warning60: #c87f1a;
    --md-ref-palette-warning70: #e79a38;
    --md-ref-palette-warning80: #ffb95c;
    --md-ref-palette-warning90: #ffddb5;
    --md-ref-palette-warning95: #ffeedc;
    --md-ref-palette-warning99: #fffbff;
    --md-ref-palette-warning100: #ffffff;

    /* ── Info (Cyan) - Source: #006879 ── */
    --md-ref-palette-info0: #000000;
    --md-ref-palette-info10: #001f26;
    --md-ref-palette-info20: #003640;
    --md-ref-palette-info30: #004e5c;
    --md-ref-palette-info40: #006879;
    --md-ref-palette-info50: #008396;
    --md-ref-palette-info60: #269eb4;
    --md-ref-palette-info70: #4bb9d0;
    --md-ref-palette-info80: #6ad5ed;
    --md-ref-palette-info90: #a0efff;
    --md-ref-palette-info95: #d4f7ff;
    --md-ref-palette-info99: #f6feff;
    --md-ref-palette-info100: #ffffff;
}


/* =============================================================================
   LIGHT THEME - Elegant Restaurant
   Warm cream backgrounds with espresso text for mixed-lighting environments
   ============================================================================= */
:root,
:root:not([data-theme]),
[data-theme="light"] {
    color-scheme: light;

    /* ══════════════════════════════════════════════════════════════════════════
       Core Palette - Warm Cream
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-background: #FAF7F2;
    --md-sys-color-on-background: #2D2622;
    --md-sys-color-surface: #F5F0EA;
    --md-sys-color-on-surface: #2D2622;
    --md-sys-color-surface-variant: #EDE8E1;
    --md-sys-color-on-surface-variant: #5C534A;
    --md-sys-color-outline: #8A8279;
    --md-sys-color-outline-variant: #C9C4BC;

    /* ══════════════════════════════════════════════════════════════════════════
       Accent Colors - Warm Amber Primary
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-primary: #8B5E00;
    --md-sys-color-on-primary: #FFFFFF;
    --md-sys-color-primary-container: #FFE0B2;
    --md-sys-color-on-primary-container: #5C3D00;

    --md-sys-color-secondary: #5C534A;
    --md-sys-color-on-secondary: #FFFFFF;
    --md-sys-color-secondary-container: #E0DAD3;
    --md-sys-color-on-secondary-container: #3D3632;

    --md-sys-color-tertiary: #4A6355;
    --md-sys-color-on-tertiary: #FFFFFF;
    --md-sys-color-tertiary-container: #C8DDD0;
    --md-sys-color-on-tertiary-container: #2D3D35;

    /* ══════════════════════════════════════════════════════════════════════════
       Error Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-error: #C62828;
    --md-sys-color-on-error: #FFFFFF;
    --md-sys-color-error-container: #FFCDD2;
    --md-sys-color-on-error-container: #B71C1C;

    /* ══════════════════════════════════════════════════════════════════════════
       Utility Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-inverse-surface: #2D2622;
    --md-sys-color-inverse-on-surface: #FAF7F2;
    --md-sys-color-inverse-primary: #FFB74D;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: rgba(45, 38, 34, 0.5);
    --md-sys-color-surface-tint: #8B5E00;

    /* ══════════════════════════════════════════════════════════════════════════
       Custom Semantic Colors - WCAG 2.1 AA Compliant
       ══════════════════════════════════════════════════════════════════════════ */

    /* ── Success (5.1:1 contrast) ── */
    --sys-color-success: #2E7D32;
    --sys-color-on-success: #FFFFFF;
    --sys-color-success-container: #C8E6C9;
    --sys-color-on-success-container: #1B5E20;

    /* ── Warning (4.6:1 contrast) ── */
    --sys-color-warning: #E65100;
    --sys-color-on-warning: #FFFFFF;
    --sys-color-warning-container: #FFE0B2;
    --sys-color-on-warning-container: #BF360C;

    /* ── Info (4.8:1 contrast) ── */
    --sys-color-info: #00796B;
    --sys-color-on-info: #FFFFFF;
    --sys-color-info-container: #B2DFDB;
    --sys-color-on-info-container: #004D40;

    /* ── Error ── */
    --sys-color-error: #C62828;
    --sys-color-on-error: #FFFFFF;
    --sys-color-error-container: #FFCDD2;
    --sys-color-on-error-container: #B71C1C;
}


/* =============================================================================
   DARK THEME - Elegant Restaurant
   Warm charcoal backgrounds with amber/gold accent for fast-paced environments
   ============================================================================= */
[data-theme="dark"] {
    color-scheme: dark;

    /* ══════════════════════════════════════════════════════════════════════════
       Core Palette - Warm Charcoal
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-background: #1A1614;
    --md-sys-color-on-background: #F5F0EB;
    --md-sys-color-surface: #252220;
    --md-sys-color-on-surface: #F5F0EB;
    --md-sys-color-surface-variant: #302C28;
    --md-sys-color-on-surface-variant: #A8A099;
    --md-sys-color-outline: #6D665D;
    --md-sys-color-outline-variant: #3D3835;

    /* ══════════════════════════════════════════════════════════════════════════
       Accent Colors - Warm Amber/Gold
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-primary: #FFB74D;
    --md-sys-color-on-primary: #1A1614;
    --md-sys-color-primary-container: #4A3F2A;
    --md-sys-color-on-primary-container: #FFE0B2;

    --md-sys-color-secondary: #C9C0B5;
    --md-sys-color-on-secondary: #1A1614;
    --md-sys-color-secondary-container: #3D3835;
    --md-sys-color-on-secondary-container: #E8E0D8;

    --md-sys-color-tertiary: #A8C5B8;
    --md-sys-color-on-tertiary: #1A1614;
    --md-sys-color-tertiary-container: #2D3D35;
    --md-sys-color-on-tertiary-container: #D4E8DC;

    /* ══════════════════════════════════════════════════════════════════════════
       Error Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-error: #EF9A9A;
    --md-sys-color-on-error: #4A1C1C;
    --md-sys-color-error-container: #5D2A2A;
    --md-sys-color-on-error-container: #FFCDD2;

    /* ══════════════════════════════════════════════════════════════════════════
       Utility Colors
       ══════════════════════════════════════════════════════════════════════════ */
    --md-sys-color-inverse-surface: #F5F0EB;
    --md-sys-color-inverse-on-surface: #1A1614;
    --md-sys-color-inverse-primary: #8B5E00;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: rgba(0, 0, 0, 0.6);
    --md-sys-color-surface-tint: #FFB74D;

    /* ══════════════════════════════════════════════════════════════════════════
       Custom Semantic Colors - WCAG 2.1 AA Compliant
       ══════════════════════════════════════════════════════════════════════════ */

    /* ── Success (7.2:1 contrast) ── */
    --sys-color-success: #81C784;
    --sys-color-on-success: #1B3D1E;
    --sys-color-success-container: #2E4830;
    --sys-color-on-success-container: #C8E6C9;

    /* ── Warning (8.1:1 contrast) ── */
    --sys-color-warning: #FFB74D;
    --sys-color-on-warning: #3D2E1A;
    --sys-color-warning-container: #4A3F2A;
    --sys-color-on-warning-container: #FFE0B2;

    /* ── Info (7.8:1 contrast) ── */
    --sys-color-info: #4FC3F7;
    --sys-color-on-info: #0D3346;
    --sys-color-info-container: #1A4A5E;
    --sys-color-on-info-container: #B3E5FC;

    /* ── Error ── */
    --sys-color-error: #EF9A9A;
    --sys-color-on-error: #4A1C1C;
    --sys-color-error-container: #5D2A2A;
    --sys-color-on-error-container: #FFCDD2;
}


/* =============================================================================
   SYSTEM PREFERENCE FALLBACK
   Applies elegant restaurant dark theme when system prefers dark
   ============================================================================= */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        color-scheme: dark;

        /* Core Palette - Warm Charcoal */
        --md-sys-color-background: #1A1614;
        --md-sys-color-on-background: #F5F0EB;
        --md-sys-color-surface: #252220;
        --md-sys-color-on-surface: #F5F0EB;
        --md-sys-color-surface-variant: #302C28;
        --md-sys-color-on-surface-variant: #A8A099;
        --md-sys-color-outline: #6D665D;
        --md-sys-color-outline-variant: #3D3835;

        /* Accent Colors - Warm Amber/Gold */
        --md-sys-color-primary: #FFB74D;
        --md-sys-color-on-primary: #1A1614;
        --md-sys-color-primary-container: #4A3F2A;
        --md-sys-color-on-primary-container: #FFE0B2;

        --md-sys-color-secondary: #C9C0B5;
        --md-sys-color-on-secondary: #1A1614;
        --md-sys-color-secondary-container: #3D3835;
        --md-sys-color-on-secondary-container: #E8E0D8;

        --md-sys-color-tertiary: #A8C5B8;
        --md-sys-color-on-tertiary: #1A1614;
        --md-sys-color-tertiary-container: #2D3D35;
        --md-sys-color-on-tertiary-container: #D4E8DC;

        /* Error Colors */
        --md-sys-color-error: #EF9A9A;
        --md-sys-color-on-error: #4A1C1C;
        --md-sys-color-error-container: #5D2A2A;
        --md-sys-color-on-error-container: #FFCDD2;

        /* Utility Colors */
        --md-sys-color-inverse-surface: #F5F0EB;
        --md-sys-color-inverse-on-surface: #1A1614;
        --md-sys-color-inverse-primary: #8B5E00;
        --md-sys-color-shadow: #000000;
        --md-sys-color-scrim: rgba(0, 0, 0, 0.6);
        --md-sys-color-surface-tint: #FFB74D;

        /* Custom Semantic Colors - WCAG 2.1 AA Compliant */
        --sys-color-success: #81C784;
        --sys-color-on-success: #1B3D1E;
        --sys-color-success-container: #2E4830;
        --sys-color-on-success-container: #C8E6C9;

        --sys-color-warning: #FFB74D;
        --sys-color-on-warning: #3D2E1A;
        --sys-color-warning-container: #4A3F2A;
        --sys-color-on-warning-container: #FFE0B2;

        --sys-color-info: #4FC3F7;
        --sys-color-on-info: #0D3346;
        --sys-color-info-container: #1A4A5E;
        --sys-color-on-info-container: #B3E5FC;

        --sys-color-error: #EF9A9A;
        --sys-color-on-error: #4A1C1C;
        --sys-color-error-container: #5D2A2A;
        --sys-color-on-error-container: #FFCDD2;
    }
}


/* =============================================================================
   HTMX Loading States
   ============================================================================= */
.htmx-indicator {
    display: none;
}

.htmx-request .htmx-indicator {
    display: block;
}

.htmx-request table,
.htmx-request .collection {
    opacity: 0.5;
    pointer-events: none;
    transition: opacity 0.2s ease;
}
