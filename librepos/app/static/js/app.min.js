const TAB_SELECTOR=".tabs";const TAB_CONTENT_SELECTOR=selectedTabId=>`#${selectedTabId}-content`;const PWA={registration:null,updateAvailable:false,async register(){if(!("serviceWorker"in navigator)){console.warn("[PWA] Service Workers not supported");return null}try{this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("[PWA] Service Worker registered successfully");this.registration.addEventListener("updatefound",(()=>{const newWorker=this.registration.installing;if(newWorker){newWorker.addEventListener("statechange",(()=>{if(newWorker.state==="installed"&&navigator.serviceWorker.controller){console.log("[PWA] New service worker available");this.updateAvailable=true;window.dispatchEvent(new CustomEvent("pwa:update-available"))}}))}}));return this.registration}catch(error){console.error("[PWA] Service Worker registration failed:",error);return null}},async clearCaches(){if(!navigator.serviceWorker.controller){console.warn("[PWA] No active service worker to clear caches");return false}return new Promise(((resolve,reject)=>{const messageChannel=new MessageChannel;const timeout=setTimeout((()=>{reject(new Error("[PWA] Cache clear timeout"))}),5e3);messageChannel.port1.onmessage=event=>{clearTimeout(timeout);if(event.data&&event.data.type==="CACHES_CLEARED"){console.log("[PWA] All caches cleared");resolve(true)}};navigator.serviceWorker.controller.postMessage({type:"CLEAR_CACHES"},[messageChannel.port2])}))},async update(){if(this.registration&&this.registration.waiting){this.registration.waiting.postMessage({type:"SKIP_WAITING"})}},isInstalled(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===true}};let deferredInstallPrompt=null;window.addEventListener("beforeinstallprompt",(event=>{event.preventDefault();deferredInstallPrompt=event;window.dispatchEvent(new CustomEvent("pwa:install-available"))}));window.addEventListener("appinstalled",(()=>{deferredInstallPrompt=null;console.log("[PWA] App installed");window.dispatchEvent(new CustomEvent("pwa:installed"))}));window.showInstallPrompt=async()=>{if(!deferredInstallPrompt){return false}deferredInstallPrompt.prompt();const{outcome:outcome}=await deferredInstallPrompt.userChoice;deferredInstallPrompt=null;return outcome==="accepted"};window.PWA=PWA;if("serviceWorker"in navigator){window.addEventListener("load",(()=>PWA.register()))}document.addEventListener("DOMContentLoaded",(()=>{const sidenavElements=document.querySelectorAll(".sidenav");const initializeRightSidenav=element=>{const edge=element.classList.contains("right")?"right":"left";M.Sidenav.init(element,{edge:edge})};sidenavElements.forEach(initializeRightSidenav);const initializeCollapsible=()=>{const collapsibleElements=document.querySelectorAll(".collapsible");M.Collapsible.init(collapsibleElements)};initializeCollapsible();const modalOptions={inDuration:150,outDuration:150,opacity:1};const initializeModals=()=>{const modalElements=document.querySelectorAll(".modal");const modalInstances=M.Modal.init(modalElements,modalOptions);return modalInstances};initializeModals();const handleTabShow=tab=>{const selectedTabId=tab.getAttribute("id");const tabContent=document.querySelector(TAB_CONTENT_SELECTOR(selectedTabId));if(tabContent){tabContent.classList.add("active")}};const initializeTabs=()=>{const tabs=document.querySelectorAll(TAB_SELECTOR);return M.Tabs.init(tabs,{swipeable:true,onShow:handleTabShow,duration:200})};initializeTabs();const initializeSelectElements=()=>{const selectElements=document.querySelectorAll("select");return M.FormSelect.init(selectElements,{})};initializeSelectElements();const CURRENT_DATE=new Date;const MIN_WORKING_AGE=12;const MAX_WORKING_AGE=65;const MAX_WORKING_YEAR=CURRENT_DATE.getFullYear()-MIN_WORKING_AGE;const MIN_WORKING_YEAR=CURRENT_DATE.getFullYear()-MAX_WORKING_AGE;const initializeDatepicker=()=>{const datepickerElements=document.querySelectorAll(".datepicker");return M.Datepicker.init(datepickerElements,{autoClose:true,format:"yyyy-mm-dd",yearRange:[MIN_WORKING_YEAR,MAX_WORKING_YEAR],yearRangeReverse:true,showClearBtn:true,i18n:{done:"Select"}})};initializeDatepicker();const initializeTooltips=()=>{const tooltipElements=document.querySelectorAll(".tooltipped");return M.Tooltip.init(tooltipElements,{})};initializeTooltips();const dropdownTriggerSelector=".dropdown-trigger";const dropdownOptions={constrainWidth:false,coverTrigger:false,alignment:"right"};const initializeDropdowns=()=>{const dropdownTriggerElements=document.querySelectorAll(dropdownTriggerSelector);const dropdownInstances=M.Dropdown.init(dropdownTriggerElements,dropdownOptions);return dropdownInstances};initializeDropdowns()}));