{#
    Badge Macros
    ============
    M3 Expressive badge components for status indicators and notifications.

    Import:
        {% import "macros/badge.html" as Badge %}

    Basic Usage:
        {{ Badge.render("5") }}
        {{ Badge.render("Sale", color="success") }}
        {{ Badge.count(3) }}
        {{ Badge.dot() }}

    Semantic Usage (Recommended):
        {{ Badge.pending() }}
        {{ Badge.completed() }}
        {{ Badge.count(5) }}
        {{ Badge.success("Active") }}

    Available Semantic Macros:
        Status:  pending, in_progress, completed, cancelled
        Colors:  success, warning, error, info
        Special: count, dot
#}


{# render(data, color=None, class_='', aria_label=None)
   -----------------------------------------------------
   Renders an M3 Expressive badge element (large pill variant).

   Parameters:
       data       (str): Required. Text or number to display in the badge.
       color      (str): Optional. Modifier: "success", "warning", "error", "info".
       class_     (str): Optional. Additional CSS classes.
       aria_label (str): Optional. Accessible label for the badge.
#}
{% macro render(data, color=None, class_='', aria_label=None) -%}
    <span class="badge{% if color %} badge-{{ color }}{% endif %}{% if class_ %} {{ class_ }}{% endif %}"
          role="status"
          {%- if aria_label %} aria-label="{{ aria_label }}"{% endif %}>
        {{- data -}}
    </span>
{%- endmacro %}


{# ==========================================================================
   DOT BADGE
   ========================================================================== #}

{# dot(class_='', aria_label='New notification')
   ----------------------------------------------
   Renders a 6px dot badge (small variant, no text).

   Parameters:
       class_     (str): Optional. Additional CSS classes.
       aria_label (str): Optional. Accessible label. Defaults to 'New notification'.
#}
{% macro dot(class_='', aria_label='New notification') -%}
    <span class="badge-dot{% if class_ %} {{ class_ }}{% endif %}"
          role="status"
          aria-label="{{ aria_label }}"></span>
{%- endmacro %}


{# ==========================================================================
   STATUS BADGES
   ========================================================================== #}

{# pending(text='Pending', class_='')
   -----------------------------------
   Warning-colored badge for items awaiting action.
#}
{% macro pending(text='Pending', class_='') -%}
    {{ render(text, color='warning', class_=class_) }}
{%- endmacro %}

{# in_progress(text='In Progress', class_='')
   -------------------------------------------
   Info-colored badge for items being processed.
#}
{% macro in_progress(text='In Progress', class_='') -%}
    {{ render(text, color='info', class_=class_) }}
{%- endmacro %}

{# completed(text='Completed', class_='')
   ---------------------------------------
   Success-colored badge for successfully completed items.
#}
{% macro completed(text='Completed', class_='') -%}
    {{ render(text, color='success', class_=class_) }}
{%- endmacro %}

{# cancelled(text='Cancelled', class_='')
   ---------------------------------------
   Error-colored badge for cancelled or failed items.
#}
{% macro cancelled(text='Cancelled', class_='') -%}
    {{ render(text, color='error', class_=class_) }}
{%- endmacro %}


{# ==========================================================================
   COLOR VARIANTS
   ========================================================================== #}

{# success(data, class_='')
   -------------------------
   Success-colored badge.
#}
{% macro success(data, class_='') -%}
    {{ render(data, color='success', class_=class_) }}
{%- endmacro %}

{# warning(data, class_='')
   -------------------------
   Warning-colored badge.
#}
{% macro warning(data, class_='') -%}
    {{ render(data, color='warning', class_=class_) }}
{%- endmacro %}

{# error(data, class_='')
   -----------------------
   Error-colored badge.
#}
{% macro error(data, class_='') -%}
    {{ render(data, color='error', class_=class_) }}
{%- endmacro %}

{# info(data, class_='')
   ----------------------
   Info-colored badge.
#}
{% macro info(data, class_='') -%}
    {{ render(data, color='info', class_=class_) }}
{%- endmacro %}


{# ==========================================================================
   NOTIFICATION BADGES
   ========================================================================== #}

{# count(number, class_='', aria_label=None)
   ------------------------------------------
   Notification-style badge for counts (e.g., cart items, unread messages).
   Auto-generates aria-label "N notifications" when not provided.

   Parameters:
       number     (int|str): Required. The count to display.
       class_     (str):     Optional. Additional CSS classes.
       aria_label (str):     Optional. Overrides auto-generated label.
#}
{% macro count(number, class_='', aria_label=None) -%}
    {{ render(number, class_=class_, aria_label=aria_label or (number ~ ' notifications')) }}
{%- endmacro %}
